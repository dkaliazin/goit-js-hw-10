{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst datetimePicker = document.getElementById('datetime-picker');\nconst startButton = document.getElementById('datetime-button');\nconst timerDisplay = document.getElementById('timer');\n\nlet userSelectedDate = null;\nlet countdownInterval = null;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n   onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    if (selectedDate <= new Date()) {\n      alert(\"Please choose a date in the future\");\n      startButton.disabled = true;\n    } else {\n        userSelectedDate = selectedDate;\n      startButton.disabled = false;\n    }\n  },\n};\n\nflatpickr(datetimePicker, options);\nstartButton.addEventListener('click', () => {\n  if (userSelectedDate) {\n    startCountdown(userSelectedDate);\n  }\n});\n\nfunction startCountdown(endDate) {\n  const countdown = setInterval(() => {\n    const now = new Date();\n    const timeLeft = endDate - now;\n\n    if (timeLeft <= 0) {\n      clearInterval(countdown);\n      alert(\"Time's up!\");\n      return;\n    }\n\n    // Optional: Update your UI with the time left\n    console.log(formatTimeLeft(timeLeft));\n  }, 1000);\n}\n\nfunction formatTimeLeft(timeLeft) {\n  const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);\n  return `${days}d ${hours}h ${minutes}m ${seconds}s`;\n}"],"names":["datetimePicker","startButton","userSelectedDate","options","selectedDates","selectedDate","flatpickr","startCountdown","endDate","countdown","timeLeft","formatTimeLeft","days","hours","minutes","seconds"],"mappings":"oFAIA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAc,SAAS,eAAe,iBAAiB,EACxC,SAAS,eAAe,OAAO,EAEpD,IAAIC,EAAmB,KAEvB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAChB,QAAQC,EAAe,CACtB,MAAMC,EAAeD,EAAc,CAAC,EAChCC,GAAgB,IAAI,MACtB,MAAM,oCAAoC,EAC1CJ,EAAY,SAAW,KAErBC,EAAmBG,EACrBJ,EAAY,SAAW,GAE1B,CACH,EAEAK,EAAUN,EAAgBG,CAAO,EACjCF,EAAY,iBAAiB,QAAS,IAAM,CACtCC,GACFK,EAAeL,CAAgB,CAEnC,CAAC,EAED,SAASK,EAAeC,EAAS,CAC/B,MAAMC,EAAY,YAAY,IAAM,CAElC,MAAMC,EAAWF,EADL,IAAI,KAGhB,GAAIE,GAAY,EAAG,CACjB,cAAcD,CAAS,EACvB,MAAM,YAAY,EAClB,MACD,CAGD,QAAQ,IAAIE,EAAeD,CAAQ,CAAC,CACrC,EAAE,GAAI,CACT,CAEA,SAASC,EAAeD,EAAU,CAChC,MAAME,EAAO,KAAK,MAAMF,EAAY,KAAoB,EAClDG,EAAQ,KAAK,MAAOH,GAAY,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAAG,EACxEI,EAAU,KAAK,MAAOJ,GAAY,IAAO,GAAK,KAAQ,IAAO,GAAG,EAChEK,EAAU,KAAK,MAAOL,GAAY,IAAO,IAAO,GAAI,EAC1D,MAAO,GAAGE,CAAI,KAAKC,CAAK,KAAKC,CAAO,KAAKC,CAAO,GAClD"}